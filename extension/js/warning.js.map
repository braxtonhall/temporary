{"version":3,"file":"warning.js","mappings":";;;;;;;;;;AAAa;AACb,kBAAkB;AAClB,qBAAqB,GAAG,yBAAyB;AACjD;AACA,yBAAyB;AACzB;AACA,qBAAqB;;;;;;;;;;;ACNR;AACb,kBAAkB;AAClB,yBAAyB,GAAG,wBAAwB;AACpD,2CAA2C,wBAAwB,QAAQ;AAC3E,wBAAwB;AACxB,kDAAkD;AAClD,yBAAyB;;;;;;;UCNzB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACtBa;AACb,kBAAkB;AAClB,kBAAkB,mBAAO,CAAC,sCAAa;AACvC,aAAa,mBAAO,CAAC,4BAAQ;AAC7B;AACA,2BAA2B;AAC3B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wGAAwG;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,mEAAmE;AACnE,oCAAoC;AACpC;AACA,CAAC","sources":["webpack:///./ts/constants.ts","webpack:///./ts/util.ts","webpack:///webpack/bootstrap","webpack:///./ts/warning.ts"],"sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.RELEVANT_TAGS = exports.FORM_RENDER_EVENT = void 0;\nvar FORM_RENDER_EVENT = \"library-thing-form-rendered\";\nexports.FORM_RENDER_EVENT = FORM_RENDER_EVENT;\nvar RELEVANT_TAGS = [\"textarea\", \"input\", \"select\"];\nexports.RELEVANT_TAGS = RELEVANT_TAGS;\n","\"use strict\";\nexports.__esModule = true;\nexports.getElementsByTags = exports.getElementsByTag = void 0;\nvar getElementsByTag = function (parent) { return function (tag) { var _a; return Array.from((_a = parent === null || parent === void 0 ? void 0 : parent.getElementsByTagName(tag)) !== null && _a !== void 0 ? _a : []); }; };\nexports.getElementsByTag = getElementsByTag;\nvar getElementsByTags = function (parent, tags) { return tags.flatMap(getElementsByTag(parent)); };\nexports.getElementsByTags = getElementsByTags;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nexports.__esModule = true;\nvar constants_1 = require(\"./constants\");\nvar util_1 = require(\"./util\");\nvar edited = false;\nvar onEdit = function () { return (edited = true); };\nvar undoEdits = function () { return (edited = false); };\nvar addEditListener = function (parent) {\n    return (0, util_1.getElementsByTags)(parent, constants_1.RELEVANT_TAGS).forEach(function (element) {\n        element.addEventListener(\"change\", onEdit);\n        element.addEventListener(\"keydown\", onEdit);\n    });\n};\nvar addUndoEditListener = function () {\n    return [\n        document.getElementById(\"book_editTabTextEditCancel1\"),\n        document.getElementById(\"book_editTabTextEditCancel2\"),\n        document.getElementById(\"book_editTabTextSave1\"),\n        document.getElementById(\"book_editTabTextSave2\"),\n        document.getElementById(\"book_editTabTextDelete\"), // so that it doesn't alert you when you're deleting something (?)\n    ].forEach(function (element) { return element === null || element === void 0 ? void 0 : element.addEventListener(\"click\", undoEdits); });\n};\nwindow.addEventListener(constants_1.FORM_RENDER_EVENT, function () {\n    var editForm = document.getElementById(\"book_editForm\");\n    if (editForm) {\n        addEditListener(editForm);\n        addUndoEditListener();\n    }\n});\nwindow.addEventListener(\"beforeunload\", function (event) {\n    if (edited) {\n        var confirmationMessage = \"It looks like you have been editing something. \" +\n            \"If you leave before saving, your changes will be lost.\";\n        (event || window.event).returnValue = confirmationMessage; // Gecko + IE\n        return confirmationMessage; // Gecko + Webkit, Safari, Chrome etc.\n    }\n});\n"],"names":[],"sourceRoot":""}